<!DOCTYPE html>
<html>

<head>
    <title>distplay</title>
    <style>
        body {
            background: black;
            color: white;
            font-family: sans-serif;
        }

        div {
            height: 20px;
            text-align: center;
            vertical-align: middle;
            font-size: 95.5%;
        }

        .stick {
            width: 55px;
            height: 55px;
            -webkit-border-radius: 100px;
            -moz-border-radius: 100px;
            border-radius: 100px;
            background: #6E6E6E;
        }

        .stickback {
            width: 80px;
            height: 80px;
            -webkit-border-radius: 100px;
            -moz-border-radius: 100px;
            border-radius: 100px;
            background: #252525;
        }

        .button {
            width: 90px;
        }

        .bumper {
            width: 75px;
        }

        .facebutton {
            width: 25px;
            height: 17px;
            padding: 5px 0px 5px 0px;
            border-radius: 20px;
        }

        .dpadbutton {
            width: 25px;
            height: 25px;
        }

        .unpressed {
            background: #252525;
        }

        .pressed {
            background: #6E6E6E;
        }

        .pressedstick {
            background: white;
        }
    </style>
</head>

<body>
    <script>
        window.onload = function WindowLoad(event) {
            loop();
        }

        function loop() {
            rt = document.getElementById('rt');
            lt = document.getElementById('lt');
            rb = document.getElementById('rb');
            lb = document.getElementById('lb');
            a = document.getElementById('a');
            b = document.getElementById('b');
            x = document.getElementById('x');
            y = document.getElementById('y');
            dup = document.getElementById('dup');
            ddown = document.getElementById('ddown');
            dleft = document.getElementById('dleft');
            dright = document.getElementById('dright');
            ls = document.getElementById('ls');
            rs = document.getElementById('rs');
            start = document.getElementById('start');
            select = document.getElementById('select');

            var gamepads = navigator.getGamepads()
            if (gamepads[0] != undefined) {
                var gp = gamepads[0];

                if (gp.buttons[0].pressed) {
                    a.className = "pressed facebutton";
                }
                else {
                    a.className = "unpressed facebutton";
                }

                if (gp.buttons[1].pressed) {
                    b.className = "pressed facebutton";
                }
                else {
                    b.className = "unpressed facebutton";
                }

                if (gp.buttons[2].pressed) {
                    x.className = "pressed facebutton";
                }
                else {
                    x.className = "unpressed facebutton";
                }

                if (gp.buttons[3].pressed) {
                    y.className = "pressed facebutton";
                }
                else {
                    y.className = "unpressed facebutton";
                }

                if (gp.buttons[4].pressed) {
                    lb.className = "pressed bumper";
                }
                else {
                    lb.className = "unpressed bumper";
                }

                if (gp.buttons[5].pressed) {
                    rb.className = "pressed bumper";
                }
                else {
                    rb.className = "unpressed bumper";
                }

                if (gp.buttons[8].pressed) {
                    select.className = "pressed bumper";
                }
                else {
                    select.className = "unpressed bumper";
                }

                if (gp.buttons[9].pressed) {
                    start.className = "pressed bumper";
                }
                else {
                    start.className = "unpressed bumper";
                }

                if (gp.buttons[10].pressed) {
                    ls.className = "stick pressedstick";
                }
                else {
                    ls.className = "stick";
                }

                if (gp.buttons[11].pressed) {
                    rs.className = "stick pressedstick";
                }
                else {
                    rs.className = "stick";
                }

                if (gp.buttons[7].pressed) {
                    rt.style.width = gp.buttons[7].value * 90 + 'px';
                }
                else {
                    rt.style.width = "0";
                }

                if (gp.buttons[6].pressed) {
                    lt.style.width = gp.buttons[6].value * 90 + 'px';
                    lt.style.left = (95 - gp.buttons[6].value * 90) + 'px';
                }
                else {
                    lt.style.width = "0";
                }

                if (gp.axes[0] > 0) {
                    ls.style.left = 23 + (gp.axes[0] * 18) + 'px'
                }
                else if (gp.axes[0] < 0) {
                    ls.style.left = 23 + (gp.axes[0] * 18) + 'px'
                }
                if (gp.axes[1] > 0) {
                    ls.style.top = 52 + (gp.axes[1] * 18) + 'px'
                }
                else if (gp.axes[1] < 0) {
                    ls.style.top = 52 + (gp.axes[1] * 18) + 'px'
                }

                if (gp.axes[2] > 0) {
                    rs.style.left = 278 + (gp.axes[2] * 18) + 'px'
                }
                else if (gp.axes[2] < 0) {
                    rs.style.left = 278 + (gp.axes[2] * 18) + 'px'
                }
                if (gp.axes[3] > 0) {
                    rs.style.top = 52 + (gp.axes[3] * 18) + 'px'
                }
                else if (gp.axes[3] < 0) {
                    rs.style.top = 52 + (gp.axes[3] * 18) + 'px'
                }

                if (gp.buttons[12].pressed) {
                    dup.className = "pressed dpadbutton"
                    ddown.className = "unpressed dpadbutton"
                }
                else if (gp.buttons[13].pressed) {
                    dup.className = "unpressed dpadbutton"
                    ddown.className = "pressed dpadbutton"
                }
                else {
                    dup.className = "unpressed dpadbutton"
                    ddown.className = "unpressed dpadbutton"
                }

                if (gp.buttons[14].pressed) {
                    dleft.className = "pressed dpadbutton"
                    dright.className = "unpressed dpadbutton"
                }
                else if (gp.buttons[15].pressed) {
                    dleft.className = "unpressed dpadbutton"
                    dright.className = "pressed dpadbutton"
                }
                else {
                    dleft.className = "unpressed dpadbutton"
                    dright.className = "unpressed dpadbutton"
                }
            }

            start = requestAnimationFrame(loop);
        }
    </script>

    <!-- Sticks -->
    <div class="stickback" style="position: absolute; top: 40px; left: 10px"></div>
    <div id="ls" class="stick" style="position: absolute; top: 52px; left: 23px"></div>
    <div class="stickback" style="position: absolute; top: 40px; left: 265px"></div>
    <div id="rs" class="stick" style="position: absolute; top: 52px; left: 278px"></div>
    <!-- Triggers -->
    <div id="ltback" class="unpressed button" style="position: absolute; top: 12px; left: 5px"></div>
    <div id="lt" class="pressed button" style="position: absolute; top: 12px; left: 5px; width: 0"></div>
    <div id="lttext" class="button" style="position: absolute; top: 12px; left: 5px">LT</div>
    <div id="rtback" class="unpressed button" style="position: absolute; top: 12px; left: 260px"></div>
    <div id="rt" class="pressed button" style="position: absolute; top: 12px; left: 260px; width: 0"></div>
    <div id="rttext" class="button" style="position: absolute; top: 12px; left: 260px">RT</div>
    <!-- Bumpers -->
    <div id="lb" class="unpressed bumper" style="position: absolute; top: 12px; left: 100px">LB</div>
    <div id="rb" class="unpressed bumper" style="position: absolute; top: 12px; left: 180px">RB</div>
    <!-- Dpad -->
    <div id="dup" class="unpressed dpadbutton" style="position: absolute; top: 40px; left: 125px"></div>
    <div id="dleft" class="unpressed dpadbutton" style="position: absolute; top: 64px; left: 100px"></div>
    <div id="dright" class="unpressed dpadbutton" style="position: absolute; top: 64px; left: 150px"></div>
    <div id="ddown" class="unpressed dpadbutton" style="position: absolute; top: 89px; left: 125px"></div>
    <div id="dcenter" class="unpressed dpadbutton" style="position: absolute; top: 64px; left: 125px"></div>
    <!-- Face buttons  -->
    <div id="y" class="unpressed facebutton" style="position: absolute; top: 40px; left: 205px">Y</div>
    <div id="x" class="unpressed facebutton" style="position: absolute; top: 64px; left: 180px">X</div>
    <div id="b" class="unpressed facebutton" style="position: absolute; top: 64px; left: 230px">B</div>
    <div id="a" class="unpressed facebutton" style="position: absolute; top: 89px; left: 205px">A</div>
    <!-- Misc buttons -->
    <div id="select" class="unpressed bumper" style="position: absolute; top: 120px; left: 100px">&lt;</div>
    <div id="start" class="unpressed bumper" style="position: absolute; top: 120px; left: 180px">&gt;</div>
</body>

</html>